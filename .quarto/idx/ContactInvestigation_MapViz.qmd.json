{"title":"Contact Investigation Map & Summary","markdown":{"yaml":{"title":"Contact Investigation Map & Summary","format":"html","editor":"visual","execute":{"echo":false,"warning":false,"error":false,"freeze":"auto"}},"headingText":"Load libraries","containsRefs":false,"markdown":"\n\n***Contact Investigation***\n\nThis section presents a summarized analysis of contact investigation data from two key divisions of Bangladesh: Khulna and Chattogram. The objective is to explore the age distribution, gender composition, and geographical spread of reported contacts using basic data wrangling and visual techniques.\n\n```{r }\n\nlibrary(readxl)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(leaflet)\n\n# Load dataset\ncontact_data <- read_excel(\"data/02_Contact_Investigation.xlsx\")\n\n# Clean & rename important columns\ncontact_data <- contact_data |> \n  rename(\n    Contact_ID = `Contact ID (House Hold)`,\n    Age = `Age (Year)`,\n    Gender = `Gender (Male/Female/Third Gender)`,\n    Division = `index.Division`,\n    Latitude = `index._Geo Point for Index Patient_latitude`,\n    Longitude = `index._Geo Point for Index Patient_longitude`\n  ) |> \n  mutate(\n    Age_Group = ifelse(Age < 15, \"Child\", \"Adult\")\n  )|> \n  select(Contact_ID, Age, Age_Group, Gender, Division, Latitude, Longitude)\n```\n\nWe have considered a sample of `r nrow(contact_data)` contact records for this analysis, drawn from Khulna and Chattogram divisions. The objective is to explore the age distribution, gender composition, and geographical spread of reported contacts using basic data wrangling and visual techniques. we summarize the total number of contacts per division, grouped by age. A bar chart is used to visually represent this distribution, offering a quick comparative view of **adult vs. child** contacts across the selected regions. Labels above each bar enhance interpretability for readers.\n\n```{r bar-chart}\n# Count patients by Division and Age_Group\nsummary_data <- contact_data |> \n  group_by(Division, Age_Group) |> \n  summarise(Patient_Count = n(), .groups = \"drop\")\n\n# Bar plot\nggplot(summary_data, aes(x = Division, y = Patient_Count, fill = Age_Group)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Patient Count by Division and Age Group\",\n       x = \"Division\", y = \"Number of Contacts\") +\n  theme_minimal()+\n  geom_text(aes(label = Patient_Count), \n            position = position_dodge(width = 0.9), \n            vjust = 1.5, color = \"white\", size = 3)\n```\n\nIn the final section, we introduce an interactive map to visualize the geolocation of reported contacts. Using the leaflet library, we plot coordinates by division, with a unique color scheme assigned to Khulna and Chattogram. This enables users to explore spatial patterns of the data. The map is zoomed to center over Bangladesh for clarity.\n\n```{r contact-map}\n# Filter & clean map data\nmap_data <- contact_data |> \n  filter(Division %in% c(\"Khulna\", \"Chattogram\")) |>\n  filter(!is.na(Latitude) & !is.na(Longitude))\n\n# Color palette for divisions\npal <- colorFactor(palette = c(\"blue\", \"red\"), domain = map_data$Division)\n\n# Plot map\nleaflet(map_data) |> \n  addTiles() |> \n  setView(lng = 90.4, lat = 23.7, zoom = 7) |>  # Optional zoom on Bangladesh\n  addCircleMarkers(\n    lng = ~Longitude,\n    lat = ~Latitude,\n    popup = ~paste(\"Division:\", Division, \"<br>Gender:\", Gender, \"<br>Age Group:\", Age_Group),\n    radius = 5,\n    color = ~pal(Division),\n    fillOpacity = 0.7\n  )\n```\n","srcMarkdownNoYaml":"\n\n***Contact Investigation***\n\nThis section presents a summarized analysis of contact investigation data from two key divisions of Bangladesh: Khulna and Chattogram. The objective is to explore the age distribution, gender composition, and geographical spread of reported contacts using basic data wrangling and visual techniques.\n\n```{r }\n# Load libraries\n\nlibrary(readxl)\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(leaflet)\n\n# Load dataset\ncontact_data <- read_excel(\"data/02_Contact_Investigation.xlsx\")\n\n# Clean & rename important columns\ncontact_data <- contact_data |> \n  rename(\n    Contact_ID = `Contact ID (House Hold)`,\n    Age = `Age (Year)`,\n    Gender = `Gender (Male/Female/Third Gender)`,\n    Division = `index.Division`,\n    Latitude = `index._Geo Point for Index Patient_latitude`,\n    Longitude = `index._Geo Point for Index Patient_longitude`\n  ) |> \n  mutate(\n    Age_Group = ifelse(Age < 15, \"Child\", \"Adult\")\n  )|> \n  select(Contact_ID, Age, Age_Group, Gender, Division, Latitude, Longitude)\n```\n\nWe have considered a sample of `r nrow(contact_data)` contact records for this analysis, drawn from Khulna and Chattogram divisions. The objective is to explore the age distribution, gender composition, and geographical spread of reported contacts using basic data wrangling and visual techniques. we summarize the total number of contacts per division, grouped by age. A bar chart is used to visually represent this distribution, offering a quick comparative view of **adult vs. child** contacts across the selected regions. Labels above each bar enhance interpretability for readers.\n\n```{r bar-chart}\n# Count patients by Division and Age_Group\nsummary_data <- contact_data |> \n  group_by(Division, Age_Group) |> \n  summarise(Patient_Count = n(), .groups = \"drop\")\n\n# Bar plot\nggplot(summary_data, aes(x = Division, y = Patient_Count, fill = Age_Group)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(title = \"Patient Count by Division and Age Group\",\n       x = \"Division\", y = \"Number of Contacts\") +\n  theme_minimal()+\n  geom_text(aes(label = Patient_Count), \n            position = position_dodge(width = 0.9), \n            vjust = 1.5, color = \"white\", size = 3)\n```\n\nIn the final section, we introduce an interactive map to visualize the geolocation of reported contacts. Using the leaflet library, we plot coordinates by division, with a unique color scheme assigned to Khulna and Chattogram. This enables users to explore spatial patterns of the data. The map is zoomed to center over Bangladesh for clarity.\n\n```{r contact-map}\n# Filter & clean map data\nmap_data <- contact_data |> \n  filter(Division %in% c(\"Khulna\", \"Chattogram\")) |>\n  filter(!is.na(Latitude) & !is.na(Longitude))\n\n# Color palette for divisions\npal <- colorFactor(palette = c(\"blue\", \"red\"), domain = map_data$Division)\n\n# Plot map\nleaflet(map_data) |> \n  addTiles() |> \n  setView(lng = 90.4, lat = 23.7, zoom = 7) |>  # Optional zoom on Bangladesh\n  addCircleMarkers(\n    lng = ~Longitude,\n    lat = ~Latitude,\n    popup = ~paste(\"Division:\", Division, \"<br>Gender:\", Gender, \"<br>Age Group:\", Age_Group),\n    radius = 5,\n    color = ~pal(Division),\n    fillOpacity = 0.7\n  )\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":false,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"ContactInvestigation_MapViz.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.554","editor":"visual","title":"Contact Investigation Map & Summary"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":[]}